리액트에서는 DOM 접근하기 위한 방법으로 ref를 제공한다.\
css selector를 이용해서도 접근이 가능한데 왜 ref를 사용해야 하는지, 어떤점이 좋은지 간단히 정리해본다.

---

## 장점?

### DOM의 ID의 중복 방지효과

DOM의 id는 전체 DOM에 적용이 되기때문에,\
다른 컴포넌트나, 혹은 라이브러리 내부에서 사용중인 id와 중복될 수 있다.

그러나 ref는, 해당 컴포넌트안에서만 정의/사용되기때문에,\
같은 컴포넌트안에서만 중복피하면 외부의 ref는 신경쓰지 않아도된다.

---

## 언제?

### DOM에 직접 접근해야 할 때

DOM의 API를 사용하고싶을 때 사용한다.

예를 들면,

- input에 포커싱 주기
- scroll 이동, 조작
- Canvas에 그림그리기

### 외부컴포넌트의 내부메소드를 사용하고 싶을 때

컴포넌트에도 ref를 달 수 있다.\
컴포넌트에 달린 ref는 내부메소드 변수를 가지고 있다.
하지만, 그렇되면 컴포넌트간의 데이터 흐름추적이 어려워, 애플리케이션이 복잡해졌을때 유지보수가 힘들다. <u>따라서 지양해야되는 방법이다</u>

그냥 부모<->자식간의 값을 전달하는게 좋다...\
만약 값을 전달하기 위해 거쳐가는 컴포넌트가 너무 많다면 상태관리 라이브러리(redux, mobx ...)를 쓰자

### 렌더링에 상관없이 내부적으로 사용하는 변수를 쓰고싶을때

<u>함수형 컴포넌트에만 적용되는 케이스</u>로 약간 꼼수다.\
기존의 목적인 ref를 DOM을 가르키는 셀렉터역할이 아니라,\
단순한 값저장 공간으로 사용한다.

이런식으로 꼼수를 사용하는 이유는,\
함수형 컴포넌트는 update될 때마다 컴포넌트의 정보가 죄다 새로 갱신되고\
이에따라 변수값들은 죄다 초기화가 되버린다.

update가 일어나는 경우는,\

- 넘겨받는 props가 변경
- 사용하는 state가 변경
- force를 이용한 강제 새로고침

정도가 있는데,
새로고침 되더라도 값을 별도로 유지하고 싶을 때 ref를 사용한다.

---

## 결론

부득이한 경우를 제외하고는 왠만하면 <u>사용을 지양하자</u>.
